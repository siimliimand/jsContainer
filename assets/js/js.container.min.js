function JsContainer(t){this.private=new __PrivateJsContainer(this,t),this.autoLoadList=[],this.loadingList=[],this.private.init()}function __PrivateJsContainer(t,i){this.container=t,this.scriptLoader=i,this.instances={},this.options={files:{css:{},js:{}},urls:{home:"/"}}}Function.prototype.construct=function(t){var i=new Function("");i.prototype=this.prototype;var e=new i;return this.apply(e,t),e},JsContainer.prototype.has=function(t){return void 0!==window[t]},JsContainer.prototype.get=function(t,i){var e=this;if(!1===this.has(t))this.private.loadScript({type:"js",name:t},i);else if(void 0===this.private.instances[t])e.private.createInstance(t,function(n){!1===n?i():e.get(t,i)});else{if(void 0===i)return this.private.instances[t];i(this.private.instances[t])}return!1},__PrivateJsContainer.prototype.init=function(){this.mergeOptions(),this.autoLoad(function(){})},__PrivateJsContainer.prototype.getContainer=function(){return this.container},__PrivateJsContainer.prototype.mergeOptions=function(){if(void 0===window.JsContainerOptions)return!1;for(var t in window.JsContainerOptions){var i=window.JsContainerOptions[t];this.addOption(this.options,t,i)}},__PrivateJsContainer.prototype.addOption=function(t,i,e){if("object"==typeof e)if(void 0===t[i])t[i]=e;else for(var n in e){var r=e[n];this.addOption(t[i],n,r)}else t[i]=e},__PrivateJsContainer.prototype.autoLoad=function(t){var i=this.options.files,e=[];for(var n in i){var r=i[n];for(var o in r)if("css"!==n){var a=r[o];"undefined"!==a.autoload&&!1===a.autoload||e.push({type:n,name:o})}else this.loadScript({type:n,name:o},function(){})}this.loadScripts(e,t,0)},__PrivateJsContainer.prototype.loadScripts=function(t,i){var e=this,n=this.getNextNotLoadedScriptName(t);!1===n?i():this.loadScript(n,function(){e.loadScripts(t,i)})},__PrivateJsContainer.prototype.getNextNotLoadedScriptName=function(t){for(var i in t)if(!1===this.getContainer().has(t[i].name))return t[i];return!1},__PrivateJsContainer.prototype.loadScript=function(t,i){var e=this.getScriptParams(t);void 0===e.required?this.loadNotRequiredScripts(t,e,i):this.loadRequiredScripts(t,e,i)},__PrivateJsContainer.prototype.loadNotRequiredScripts=function(t,i,e){var n=this;this.scriptLoader.addScript(t.type,i.url,function(){"css"===t.type?e():n.getContainer().get(t.name,e)})},__PrivateJsContainer.prototype.loadRequiredScripts=function(t,i,e){var n=this,r=this.getNotLoadedScriptNames(t,i);r.length<=0?this.scriptLoader.addScript(t.type,i.url,function(){n.getContainer().get(t.name,e)}):this.loadScripts(r,e)},__PrivateJsContainer.prototype.getNotLoadedScriptNames=function(t,i){var e=[];for(var n in i.required)!1===this.getContainer().has(i.required[n])&&e.push({type:t.type,name:i.required[n]});return e},__PrivateJsContainer.prototype.getScriptParams=function(t){var i=this.options.files[t.type];if(void 0===i)return{};var e=i[t.name];return void 0===e?{}:e},__PrivateJsContainer.prototype.createInstance=function(t,i){var e=this.options.files.js[t];if(void 0===e)return i(!1),!1;var arguments=this.getInstanceArguments(e),n=!1;try{n=window[t].construct(arguments),this.instances[t]=n,i(n)}catch(t){i(!1)}},__PrivateJsContainer.prototype.getInstanceArguments=function(t){var arguments=[],i=t.arguments;if(void 0!==i)for(var e in i){var n=i[e];"function"==typeof n&&(n=i[e]()),arguments.push(n)}return arguments};